/* This program asks the user to enter in a probability, and then uses that probability to calculate the results of two
 * teams playing 10 games each and then outputs which team won the championship.
 */
import java.util.Random;
import java.util.Scanner;




public class Playoffs {
  private static final Scanner CONSOLE = new Scanner(System.in);
  
  public static void main(String args[]) {
    
    System.out.println("Lab 6 written by Roman Menchaca");
    
    int chnce = promptIntWithRange("Please enter the percentage chance team 1 will win :",0,100);
    Random rand = new Random();
    championship(rand,chnce);
  }
  
  





//Method for a single game
  private static boolean singleGame(Random r, int chnce) {
    int score = r.nextInt(100);
    return score < chnce;
  }
  
  
  
  
  
  
  
  
  
  /* Method for a playoff. 
   */
  private static boolean playoff(Random r, int chnce) {
    int team1Wins = 0;
    int team2Wins = 0;
    while(team1Wins < 4 && team2Wins < 4) {
      if(singleGame(r,chnce))
        team1Wins++;
      else
        team2Wins++;
    }
    return team1Wins > team2Wins;
  }
  
  





//Method for a championship. A team wins the championship if they beat the other team by 10 playoffs.
  private static void championship(Random r, int chnce) {
    int team1Wins = 0;
    int team2Wins = 0;
    while(team1Wins < team2Wins + 10 && team2Wins < team1Wins + 10) {
      if(playoff(r,chnce)) {
        team1Wins++;
        System.out.print(1);
      }
      else {
        team2Wins++;
        System.out.print(2);
      }
    }
    //Print the results
    System.out.println();
    System.out.println("Team 1 playoffs won: " + team1Wins);
    System.out.println("Team 2 playoffs won: " + team2Wins);
    if(team1Wins > team2Wins)
      System.out.println("Team 1 won the championship!");
    else
      System.out.println("Team 2 won the championship!");
  }
  
  















//This method prompts the user for an integer value between min and max
  private static int promptIntWithRange(String prompt, int min, int max) {
    int i = 0;
    boolean cont = true;
    
    while(cont) {
      System.out.print(prompt);
      if(CONSOLE.hasNextInt()) {
        i = CONSOLE.nextInt();
        if(i >= min && i <= max)
          cont = false;
        else
          //Handle errors where the user enters an integer outside the range
          System.err.println("ERROR: " + i + " is not between " + min + " and " + max + ".");
      }
      else {
        //Handle errors where the user enters something besides an int
        String str = CONSOLE.nextLine();
        
      
      }
    }
    return i;
  }
}
